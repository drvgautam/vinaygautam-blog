---
import BaseLayout from "../layouts/BaseLayout.astro";
import Hero from "../components/Hero.astro";
import MetricsCard from "../components/MetricsCard.astro";
import ServiceCard from "../components/ServiceCard.astro";
import ProcessTimeline from "../components/ProcessTimeline.astro";
import ProjectCard from "../components/ProjectCard.astro";
import TestimonialCard from "../components/TestimonialCard.astro";
import ClientLogos from "../components/ClientLogos.astro";
import CTAContact from "../components/CTAContact.astro";

// Featured projects
const projects = [
  {
    org: "Industrial Coatings / EU Pilot",
    title: "Unified materials knowledge graph for predictive corrosion analytics",
    desc: "We built a semantic data layer that links lab experiments, process parameters, and field performance. Result: engineers could query 'which coating formulas fail after 500h salt spray' in seconds instead of digging in PDFs.",
    tags: ["Knowledge Graph", "FAIR Data", "AI Readiness"],
    metrics: [
      { label: "Query Time", value: "< 1s" },
      { label: "Data Sources", value: "12+" }
    ],
    link: "/projects/airflow-60-lines"
  },
  {
    org: "Manufacturing / Process Line",
    title: "FAIR pipeline for sensor telemetry and compliance reporting",
    desc: "Ingested and curated time-series data with full lineage and metadata. Delivered a pipeline that satisfies both internal analytics and regulatory audit trail without duplicating effort.",
    tags: ["FAIR Pipeline", "Observability", "Compliance"],
    metrics: [
      { label: "Compliance", value: "100%" },
      { label: "Data Sources", value: "50+" }
    ]
  },
  {
    org: "Internal R&D / GenAI",
    title: "Context-aware assistant for domain experts",
    desc: "An internal Q&A assistant backed by governed data products and an ontology of key assets and processes. Answers come with citations, not guesses.",
    tags: ["GenAI with Context", "Retrieval", "Governance"],
    metrics: [
      { label: "Accuracy", value: "95%" },
      { label: "Response Time", value: "< 2s" }
    ]
  },
];

// Services
const services = [
  {
    title: "Semantic Data Engineering",
    description: "We map your core business concepts into knowledge graphs and ontologies, making your data machine-understandable and AI-ready.",
    benefits: [
      "Knowledge graph design & implementation",
      "Ontology development & modeling",
      "Data integration & mapping",
      "Open standards compliance"
    ],
    icon: "ðŸ”—",
    accentColor: "var(--accent-secondary)"
  },
  {
    title: "FAIR Data Pipelines",
    description: "We build traceable ingestion and curation pipelines with metadata, lineage, and governance baked in from day one.",
    benefits: [
      "Metadata management systems",
      "Full data lineage tracking",
      "Governance frameworks",
      "Production-grade observability"
    ],
    icon: "âš™ï¸",
    accentColor: "var(--accent-primary)"
  },
  {
    title: "GenAI with Context",
    description: "We deliver AI assistants that answer with citations from your approved sources, eliminating hallucinations and building trust.",
    benefits: [
      "RAG implementation",
      "Citation & source tracking",
      "Knowledge retrieval systems",
      "Governed AI responses"
    ],
    icon: "ðŸ¤–",
    accentColor: "var(--accent-tertiary)"
  },
];

// Process steps
const processSteps = [
  {
    number: 1,
    title: "Discovery & Strategy",
    description: "Client consultation, requirements analysis, and technical assessment to define the optimal approach.",
    duration: "Week 1",
    deliverables: ["Requirements document", "Technical assessment", "Architecture proposal"]
  },
  {
    number: 2,
    title: "Design & Planning",
    description: "Architecture design, ontology development, and pipeline specification with your team.",
    duration: "Week 2",
    deliverables: ["System architecture", "Ontology design", "Implementation plan"]
  },
  {
    number: 3,
    title: "Development & Implementation",
    description: "Knowledge graph construction, pipeline development, and integration work with continuous feedback.",
    duration: "Weeks 3-6",
    deliverables: ["Working system", "Integration code", "Test suite"]
  },
  {
    number: 4,
    title: "Testing & Deployment",
    description: "Quality assurance, performance optimization, and production deployment with monitoring.",
    duration: "Week 7",
    deliverables: ["Deployed system", "Performance report", "Monitoring setup"]
  },
  {
    number: 5,
    title: "Handoff & Support",
    description: "Comprehensive documentation, team training, and ongoing support to ensure long-term success.",
    duration: "Week 8+",
    deliverables: ["Documentation", "Training sessions", "Support plan"]
  },
];

// Testimonials
const testimonials = [
  {
    quote: "Working with DatumInt changed how we think about our data. We no longer have 'dashboards and panic'. We have a semantic model we can actually reason about â€” and our AI finally answers with traceable sources.",
    author: "Industry Partner",
    role: "Digitalisation Lead"
  },
  {
    quote: "The knowledge graph they built transformed our R&D process. What used to take weeks of manual research now takes seconds with a query.",
    author: "Research Director",
    role: "Materials Science",
    company: "EU Research Project"
  },
];
---

<BaseLayout>
  <!-- HERO SECTION -->
  <Hero
    badge="Semantic Data Engineering Experts"
    headline="Turn Your Data Into a Semantic Knowledge Graph in 8 Weeks"
    subheadline="We help enterprises build semantic data platforms that make AI actually work â€” with traceable sources, not hallucinations."
    primaryCTA={{ text: "Book a Discovery Call", href: "/contact" }}
    secondaryCTA={{ text: "See Our Work", href: "/projects" }}
    trustMetrics={[
      { number: "5+", label: "Projects Delivered" },
      { number: "5+", label: "Years Experience" },
      { number: "100%", label: "Client Satisfaction" }
    ]}
  />

  <!-- SOCIAL PROOF: METRICS -->
  <section class="section-alt">
    <div class="wrap">
      <h2 class="section-title fade-in" style="text-align:center;margin-bottom:2rem;">
        Trusted by Industry Leaders
      </h2>
      <div class="metrics-grid fade-in">
        <MetricsCard number="5+" label="Projects Delivered" icon="ðŸš€" />
        <MetricsCard number="5+" label="Years Experience" icon="â­" />
        <MetricsCard number="100%" label="Client Satisfaction" icon="ðŸ’¯" />
      </div>
    </div>
  </section>

  <!-- CLIENT LOGOS -->
  <ClientLogos title="Trusted by Industry Leaders" />

  <!-- SERVICES OVERVIEW -->
  <section class="section">
    <div class="wrap">
      <div class="fade-in" style="text-align:center;margin-bottom:3rem;">
        <h2 style="color:var(--accent-primary);margin-bottom:.5rem;font-size:0.9rem;text-transform:uppercase;letter-spacing:0.1em;">
          What We Do
        </h2>
        <h3 style="font-size:2rem;line-height:1.2;margin-bottom:1rem;">
          We build the semantic layer your AI and analytics actually need
        </h3>
        <p style="color:var(--text-dim);max-width:60ch;margin:0 auto;">
          From knowledge graphs to FAIR pipelines to context-aware AI â€” we deliver production-ready systems that make your data work for you.
        </p>
      </div>

      <div class="services-grid fade-in">
        {services.map((service) => (
          <ServiceCard {...service} />
        ))}
      </div>

      <div style="text-align:center;margin-top:3rem;">
        <a href="/services" class="btn-ghost" style="text-decoration:none;">
          Learn more about services â†’
        </a>
      </div>
    </div>
  </section>

  <!-- PROCESS/WORKFLOW -->
  <section class="section-alt">
    <div class="wrap" style="margin-bottom:3rem;">
      <div style="text-align:center;">
        <h2 style="color:var(--accent-primary);margin-bottom:.5rem;font-size:0.9rem;text-transform:uppercase;letter-spacing:0.1em;">
          Our Process
        </h2>
        <h3 style="font-size:2rem;line-height:1.2;margin-bottom:1rem;">
          From Idea to Production in 8 Weeks
        </h3>
        <p style="color:var(--text-dim);max-width:60ch;margin:0 auto;">
          Our proven 5-step process transforms your vision into a production-ready semantic data platform.
        </p>
      </div>
    </div>
    <ProcessTimeline steps={processSteps} />
    <div class="wrap" style="text-align:center;margin-top:3rem;">
      <a href="/contact" class="btn-solid" style="text-decoration:none;">
        Start Your Project
      </a>
    </div>
  </section>

  <!-- FEATURED PROJECTS -->
  <section class="section">
    <div class="wrap" style="margin-bottom:3rem;">
      <div style="text-align:center;">
        <h2 style="color:var(--accent-primary);margin-bottom:.5rem;font-size:0.9rem;text-transform:uppercase;letter-spacing:0.1em;">
          Case Studies
        </h2>
        <h3 style="font-size:2rem;line-height:1.2;margin-bottom:1rem;">
          Selected Projects
        </h3>
        <p style="color:var(--text-dim);max-width:60ch;margin:0 auto;">
          Representative deliveries, anonymised / generalized.
        </p>
      </div>
    </div>

    <div class="wrap">
      <div class="projects-grid">
        {projects.map((project) => (
          <ProjectCard {...project} />
        ))}
      </div>
    </div>

    <div class="wrap" style="text-align:center;margin-top:3rem;">
      <a href="/projects" class="btn-ghost" style="text-decoration:none;">
        View All Projects â†’
      </a>
    </div>
  </section>

  <!-- TESTIMONIALS -->
  <section class="section-alt">
    <div class="wrap" style="margin-bottom:3rem;">
      <div style="text-align:center;">
        <h2 style="color:var(--accent-primary);margin-bottom:.5rem;font-size:0.9rem;text-transform:uppercase;letter-spacing:0.1em;">
          Testimonials
        </h2>
        <h3 style="font-size:2rem;line-height:1.2;margin-bottom:1rem;">
          What Clients Say
        </h3>
      </div>
    </div>

    <div class="wrap">
      <div class="testimonials-grid">
        {testimonials.map((testimonial) => (
          <TestimonialCard {...testimonial} />
        ))}
      </div>
    </div>
  </section>

  <!-- CTA CONTACT -->
  <CTAContact />
</BaseLayout>

<style>
  .section-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--text-main);
  }

  .metrics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    max-width: 1000px;
    margin: 0 auto;
  }

  .services-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
  }

  .projects-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
  }

  .testimonials-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    max-width: 1000px;
    margin: 0 auto;
  }

  @media (max-width: 768px) {
    .services-grid,
    .projects-grid,
    .testimonials-grid {
      grid-template-columns: 1fr;
    }

    .metrics-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
</style>
